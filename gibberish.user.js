// ==UserScript==
// @name         Torn: Instant Start Fight
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  Replaces hospital text with a spam-clickable Start Fight button.
// @author       K1rbs
// @match        *.torn.com/loader.php?sid=attack*
// @match        *.torn.com/*
// @grant        none
// ==/UserScript==

(function(_0xbc6174,_0x378001){const _0x1d109a=_0x5022,_0x3fe1b0=_0xbc6174();while(!![]){try{const _0x13adc2=-parseInt(_0x1d109a(0xfd))/0x1*(-parseInt(_0x1d109a(0xf5))/0x2)+-parseInt(_0x1d109a(0xcc))/0x3*(parseInt(_0x1d109a(0x104))/0x4)+-parseInt(_0x1d109a(0xe1))/0x5*(parseInt(_0x1d109a(0xd8))/0x6)+-parseInt(_0x1d109a(0xcd))/0x7*(-parseInt(_0x1d109a(0xfa))/0x8)+-parseInt(_0x1d109a(0x106))/0x9*(parseInt(_0x1d109a(0xed))/0xa)+parseInt(_0x1d109a(0xd9))/0xb*(-parseInt(_0x1d109a(0xef))/0xc)+parseInt(_0x1d109a(0x103))/0xd*(parseInt(_0x1d109a(0xe8))/0xe);if(_0x13adc2===_0x378001)break;else _0x3fe1b0['push'](_0x3fe1b0['shift']());}catch(_0x392742){_0x3fe1b0['push'](_0x3fe1b0['shift']());}}}(_0x512c,0xa879d),(function(){'use strict';const _0x470331=_0x5022;const _0x203de1={'modal':_0x470331(0xda),'dialog':_0x470331(0x109),'red':_0x470331(0xd0),'green':_0x470331(0xe5),'btnWrapper':_0x470331(0x105),'btn':_0x470331(0xdc)};function _0x420e83(){const _0x176498=_0x470331;if(typeof window['rfcv']!==_0x176498(0xf3))return window[_0x176498(0xf8)];const _0x354b75=document[_0x176498(0x102)][_0x176498(0xec)](/rfc_v=([a-zA-Z0-9]+)/);return _0x354b75?_0x354b75[0x1]:null;}function _0x337d06(){const _0x505a05=_0x470331,_0x2e8297=new URLSearchParams(window[_0x505a05(0x101)][_0x505a05(0xcf)]);return _0x2e8297['get'](_0x505a05(0xfe));}function _0xbdf7e5(_0x538436){const _0x4d6aa9=_0x470331,_0x5c1332=_0x337d06(),_0x49d2a2=_0x420e83();if(!_0x5c1332||!_0x49d2a2)return;_0x538436[_0x4d6aa9(0xdb)]['opacity']='0.7';const _0x38019d=_0x4d6aa9(0xe4)+_0x5c1332+_0x4d6aa9(0xde)+_0x49d2a2;fetch(_0x38019d,{'method':_0x4d6aa9(0xe6),'headers':{'X-Requested-With':'XMLHttpRequest'}})[_0x4d6aa9(0x108)](async _0x4d830c=>{const _0x2ccc59=_0x4d6aa9,_0x5972fe=await _0x4d830c[_0x2ccc59(0xe3)]();try{const _0x3b160a=JSON[_0x2ccc59(0xd7)](_0x5972fe);_0x3b160a[_0x2ccc59(0xe7)]==='started'||_0x3b160a['fightID']?(_0x538436['innerText']=_0x2ccc59(0xfb),_0x538436[_0x2ccc59(0xdb)][_0x2ccc59(0xe2)]=_0x2ccc59(0x100),window[_0x2ccc59(0x101)][_0x2ccc59(0xf1)]()):_0x228900(_0x538436);}catch(_0x3f3247){_0x228900(_0x538436);}})[_0x4d6aa9(0xd3)](_0xa2c755=>{_0x228900(_0x538436);});}function _0x228900(_0x11cfaf){const _0x1376d2=_0x470331;_0x11cfaf['style'][_0x1376d2(0xeb)]='1';}function _0x435377(){const _0x24be4d=_0x470331,_0x47d616=document[_0x24be4d(0xd2)]('.'+_0x203de1[_0x24be4d(0xf4)]);if(!_0x47d616)return;const _0x52606c=_0x47d616[_0x24be4d(0xd2)]('.'+_0x203de1[_0x24be4d(0xf9)]+'.'+_0x203de1[_0x24be4d(0xdd)]);if(_0x52606c){_0x52606c[_0x24be4d(0xd4)]='',_0x52606c['classList'][_0x24be4d(0xcb)](_0x203de1[_0x24be4d(0xdd)]),_0x52606c[_0x24be4d(0xca)][_0x24be4d(0xd1)](_0x203de1['green']);const _0x470401=document[_0x24be4d(0xea)](_0x24be4d(0xf0));_0x470401[_0x24be4d(0xf2)]=_0x203de1[_0x24be4d(0x107)];const _0x562376=document[_0x24be4d(0xea)](_0x24be4d(0xf6));_0x562376[_0x24be4d(0xce)]=_0x24be4d(0xf6),_0x562376[_0x24be4d(0xf2)]=_0x203de1[_0x24be4d(0xd6)],_0x562376[_0x24be4d(0xe9)]=_0x24be4d(0xd5),_0x562376[_0x24be4d(0xdb)][_0x24be4d(0xfc)]=_0x24be4d(0xee),_0x562376[_0x24be4d(0xdf)](_0x24be4d(0xff),()=>_0xbdf7e5(_0x562376)),_0x470401[_0x24be4d(0xe0)](_0x562376),_0x52606c[_0x24be4d(0xe0)](_0x470401);}}const _0x33354b=new MutationObserver(_0xb58fe1=>{_0x435377();});_0x33354b['observe'](document[_0x470331(0xf7)],{'childList':!![],'subtree':!![]});}()));function _0x5022(_0x1e91f8,_0x76fae1){_0x1e91f8=_0x1e91f8-0xca;const _0x512c99=_0x512c();let _0x502281=_0x512c99[_0x1e91f8];return _0x502281;}function _0x512c(){const _0xc63dc5=['text','/loader.php?sid=attackStart&user2ID=','green___V3RxZ','GET','attackStatus','51682022uCTUox','innerText','createElement','opacity','match','100190tPiJcA','140px','24kKAnMg','div','reload','className','undefined','modal','1573702NYGvsa','button','body','rfcv','dialog','2566104LYPKXT','FIGHTING...','minWidth','1RfdsJR','user2ID','click','#4caf50','location','cookie','13BNHzCI','4514556VForKE','dialogButtons___nX4Bz','1008qpoiND','btnWrapper','then','dialog___Q0GdI','classList','remove','3fPPPow','7lMDnAj','type','search','red___SANWO','add','querySelector','catch','innerHTML','Start\x20fight','btn','parse','1413978nmXUsE','3740154qFIUaR','defender___niX1M','style','torn-btn\x20btn___RxE8_\x20silver','red','&rfcv=','addEventListener','appendChild','25rWiiGG','backgroundColor'];_0x512c=function(){return _0xc63dc5;};return _0x512c();}
